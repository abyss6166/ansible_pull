- name: add hosts to /etc/hosts file
  tags: hosts
  blockinfile:
    path: /etc/hosts
    block: |
      127.0.0.1 localhost
      127.0.1.1 archlinuxvm

- name: enable timesyncd
  tags: timesyncd
  service:
    name: systemd-timesyncd
    state: started
    enabled: yes

- name: edit pacman config file
  tags: pacman
  lineinfile:
    path: /etc/pacman.conf
    regexp: '^#ParallelDownloads'
    line: 'ParallelDownloads = 5'
    backrefs: yes

- name: enable virtualbox
  tags: virtualbox
  service:
    name: vboxservice
    state: started
    enabled: yes

- name: back up poshtheme file
  tags: poshtheme
  copy:
    src: /home/{{ user }}/.poshthemes/quick-term.omp.json
    dest: /home/{{ user }}/.poshthemes/quick-term.omp.json.bak
    owner: "{{ user }}"
    group: "{{ user }}"

- name: install poshtheme config file
  tags: poshtheme
  copy:
    src: files/quick-term.omp.json
    dest: /home/{{ user }}/.poshthemes
    owner: "{{ user }}"
    group: "{{ user }}"
    backup: yes

